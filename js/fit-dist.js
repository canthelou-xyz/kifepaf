var fit=function(){"use strict";function o(t){return t.toUpperCase()}function n(t){return"number"==typeof t&&!isNaN(t)}function a(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function r(t){if(!l)for(var e=m(x.body),n=p,i=0,r=d.length;i<r&&!((l=d[i])+n in e)&&!((l=l.replace(/^(\w)/,o))+n in e);i++);return l+t}function E(t,e){var n=function(t){var e=m(t)[r(p)].replace(/[a-z()]/gi,"").split(",");if(e.length<6)return[1,0,0,1,0,0];for(var n=0;n<16;n++)n<e.length&&(e[n]=parseFloat(e[n]));return e}(e);n[0]=t.scale,n[3]=t.scale,n[4]+=t.tx,n[5]+=t.ty;var i=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e(t[i]);return n}(n,function(t){return t.toFixed(6)}).slice(0,6);e.style[r(c)]="0 0",e.style[r(p)]="matrix("+i.join(",")+")"}function A(t,e){e.height*=t.scale,e.width*=t.scale,e.x+=t.tx,e.y+=t.ty}function L(t){if(t.nodeType&&1==t.nodeType){var e=t.getBoundingClientRect();t={height:t.offsetHeight,width:t.offsetWidth,x:e.left,y:e.top}}return!n(t.x)&&n(t.left)&&(t.x=t.left),!n(t.y)&&n(t.top)&&(t.y=t.top),t}function f(){var t=(new Date).getTime(),e=t-h;if(e<=u)clearInterval(g),g=setTimeout(f,u-e);else{for(var n=0,i=w.length;n<i;n++)w[n]();h=t}}function s(t,e,n,i,r){var o=L(t),a=L(e),f=0===o.width?O:o.width,s=0===o.height?b:o.height,l=0===a.width?F:a.width,h=0===a.height?b:a.height,g=(F=l)/(O=f),u=(b=h)/s,c=f/s,p=l/h,d=n.cover?u:g,y=n.cover?g:u,v=p<=c?d:y,x=f*v,m=s*v,w=n.hAlign==z?.5*(x-l):n.hAlign==H?x-l:0,T=n.vAlign==z?.5*(m-h):n.vAlign==C?m-h:0;return(r=r||{}).tx=a.x-w-o.x,r.ty=a.y-T-o.y,r.x=a.x-w-o.x*v,r.y=a.y-T-o.y*v,r.height=o.height*v,r.width=o.width*v,r.scale=v,i?i(r,t):n.apply&&(i="undefined"!=typeof HTMLElement&&t instanceof HTMLElement?E:A)(r,t),r}var l,h,g,O,F,b,u=50,c="TransformOrigin",p="Transform",d="moz ms o webkit".split(" "),z="center",C="bottom",H="right",y="px",v=window||self,x=document,m=v.getComputedStyle,w=[],T={hAlign:z,vAlign:z,watch:!1,cover:!1,apply:!0};return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;++e)if(this[e]==t)return e;return-1}),a(function(t,e,n,i){if(!t||!e)throw"You must supply a target and a container";"function"==typeof n&&(i=n,n={}),n=a(n||{},T);var r=s(t,e,n,i);return n.watch&&(w.length||(v.addEventListener?(v.addEventListener("resize",f),v.addEventListener("orientationchange",f)):(v.attachEvent("onresize",f),v.attachEvent("onorientationchange",f))),r.trigger=function(){s(t,e,n,i,r)},r.on=function(t){~w.indexOf(r.trigger)||w.push(r.trigger),t||r.trigger()},r.off=function(){var t=w.indexOf(r.trigger);~t&&w.splice(t,1)},r.on(!0)),r},{watching:w,defaults:T,cssTransform:E,cssPosition:function(t,e){var n=m(e),i=parseFloat(n.left)||0,r=parseFloat(n.top)||0;"static"===n.position&&(e.style.position="relative"),e.style.left=i+t.tx+y,e.style.top=r+t.ty+y,e.style.height=t.height+y,e.style.width=t.width+y},cssMargin:function(t,e){var n=m(e),i=parseFloat(n.marginLeft)||0,r=parseFloat(n.marginTop)||0;e.style.marginLeft=i+t.tx+y,e.style.marginTop=r+t.ty+y,e.style.height=t.height+y,e.style.width=t.width+y},CENTER:z,BOTTOM:C,RIGHT:H,LEFT:"left",TOP:"top"})}();"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=fit),exports.fit=fit);